<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BoltProof ‚Äì Media Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="BoltProof media portal: Jellyseerr and the Arr stack links in one clean dashboard." />

  <!-- ‚úÖ SAME favicon as boltproof.com -->
  <link rel="icon" href="https://boltproof.com/favicon.ico" sizes="any">
  <link rel="apple-touch-icon" href="https://boltproof.com/apple-touch-icon.png">

  <style>
    :root{
      --bp-blue:#215EAB;
      --bp-blue2:#3D8BFF;
      --bp-ink:#0B1220;
      --bp-ink2:#111827;
      --bp-text:#E5E7EB;
      --bp-muted:#9CA3AF;
      --bg-soft:#F5F7FB;
      --card:#FFFFFF;
      --card-dark:#0B1220;
      --border:#E5E7EB;
      --border-dark:#1F2937;
      --ok:#22C55E;
      --warn:#F59E0B;
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:var(--bg-soft);
      color:#111827;
      line-height:1.6;
      transition:background .25s ease,color .25s ease;
    }
    body.dark{
      background:#020617;
      color:var(--bp-text);
    }

    .container{max-width:1120px;margin:0 auto;padding:0 16px}

    /* ===== TOP BAR (match main site vibe) ===== */
    header{
      position:sticky; top:0; z-index:50;
      background:linear-gradient(180deg, rgba(4,10,22,.98), rgba(7,15,30,.92));
      border-bottom:1px solid rgba(148,163,184,.18);
      backdrop-filter: blur(10px);
    }
    body.dark header{
      border-bottom:1px solid rgba(148,163,184,.18);
    }

    .nav{
      display:flex; align-items:center; justify-content:space-between;
      gap:14px;
      padding:14px 0;
    }

    .brand{
      display:flex; align-items:center; gap:12px; min-width:240px;
      color:var(--bp-text);
      text-decoration:none;
    }
    .brand img{
      width:54px; height:54px; object-fit:contain;
      border-radius:12px;
      background:rgba(255,255,255,.04);
      border:1px solid rgba(148,163,184,.14);
      padding:6px;
    }
    .brand .title{
      font-weight:850; letter-spacing:-.02em; line-height:1.05;
      margin:0;
    }
    .brand .subtitle{
      margin:2px 0 0; font-size:12px; color:rgba(229,231,235,.72);
      white-space:nowrap;
    }

    .nav-links{
      display:flex; align-items:center; gap:18px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .nav-links a{
      color:rgba(229,231,235,.82);
      font-weight:700;
      font-size:14px;
      text-decoration:none;
      padding:8px 6px;
      border-radius:10px;
      transition:background .15s ease,color .15s ease;
    }
    .nav-links a:hover{
      background:rgba(255,255,255,.06);
      color:#fff;
    }

    .nav-actions{
      display:flex; align-items:center; gap:10px; justify-content:flex-end;
      flex-wrap:wrap;
    }

    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:10px 14px;
      border-radius:999px;
      border:none;
      font-size:13px;
      font-weight:800;
      cursor:pointer;
      text-decoration:none;
      user-select:none;
      transition:transform .12s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
      white-space:nowrap;
    }
    .btn-primary{
      background:linear-gradient(180deg, #2B74D6, #215EAB);
      color:#fff;
      box-shadow:0 12px 26px rgba(33,94,171,.28);
    }
    .btn-primary:hover{transform:translateY(-1px); background:linear-gradient(180deg, #3D8BFF, #2B74D6)}
    .pill-btn{
      background:rgba(255,255,255,.06);
      border:1px solid rgba(148,163,184,.22);
      color:rgba(229,231,235,.9);
      padding:9px 12px;
      gap:8px;
    }
    .pill-btn:hover{background:rgba(255,255,255,.10)}

    /* Kid switch */
    .switch{
      width:38px;height:22px;border-radius:999px;
      background:rgba(148,163,184,.45);
      position:relative; flex:0 0 auto;
      transition:background .15s ease;
    }
    .switch::after{
      content:"";
      width:18px;height:18px;border-radius:999px;
      position:absolute; top:2px; left:2px;
      background:#fff;
      transition:left .15s ease;
      box-shadow:0 6px 14px rgba(0,0,0,.20);
    }
    .kid-on .switch{background:rgba(34,197,94,.60)}
    .kid-on .switch::after{left:18px}

    /* ===== HERO ===== */
    .hero{
      padding:38px 0 22px;
      background:
        radial-gradient(circle at top left, rgba(102,153,255,0.22), transparent 55%),
        radial-gradient(circle at bottom right, rgba(56,189,248,0.16), transparent 60%);
    }
    body.dark .hero{
      background:
        radial-gradient(circle at top left, rgba(59,130,246,0.22), transparent 55%),
        radial-gradient(circle at bottom right, rgba(45,212,191,0.14), transparent 60%);
    }

    .hero-shell{
      background:rgba(255,255,255,.90);
      border-radius:18px;
      padding:18px;
      border:1px solid rgba(148,163,184,.45);
      box-shadow:0 18px 45px rgba(15,23,42,.16);
      backdrop-filter: blur(10px);
    }
    body.dark .hero-shell{
      background:rgba(2,6,23,.78);
      border-color:rgba(148,163,184,.18);
      box-shadow:0 24px 55px rgba(0,0,0,.80);
    }

    h1{margin:0 0 8px;font-size:34px;line-height:1.12;letter-spacing:-.03em}
    .muted{color:#6B7280}
    body.dark .muted{color:var(--bp-muted)}

    .hero-row{
      display:grid;
      grid-template-columns:minmax(0,1.6fr) minmax(0,1fr);
      gap:16px;
      align-items:start;
    }

    .callout{
      border-radius:14px;
      padding:12px;
      border:1px solid rgba(148,163,184,.45);
      background:rgba(227,236,255,.55);
      display:flex; gap:10px; align-items:flex-start;
      font-size:13px;
    }
    body.dark .callout{
      background:rgba(15,23,42,.65);
      border-color:rgba(148,163,184,.18);
    }

    .pill-row{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:6px 10px;border-radius:999px;
      font-size:12px;font-weight:800;
      border:1px solid rgba(148,163,184,.45);
      background:rgba(255,255,255,.92);
    }
    body.dark .pill{
      background:rgba(2,6,23,.75);
      border-color:rgba(148,163,184,.18);
    }
    .dot{
      width:8px;height:8px;border-radius:999px;background:var(--warn);
      box-shadow:0 0 0 4px rgba(245,158,11,.14);
    }
    .dot.ok{background:var(--ok);box-shadow:0 0 0 4px rgba(34,197,94,.14)}

    .search{display:flex;gap:10px;align-items:center;margin-top:12px}
    .search input{
      width:100%;
      border-radius:14px;
      border:1px solid rgba(148,163,184,.55);
      padding:12px 14px;
      font-size:14px;
      outline:none;
      background:rgba(255,255,255,.92);
      transition:border-color .15s ease, box-shadow .15s ease;
    }
    body.dark .search input{
      background:rgba(2,6,23,.78);
      border-color:rgba(148,163,184,.18);
      color:var(--bp-text);
    }
    .search input:focus{
      border-color:rgba(59,130,246,.85);
      box-shadow:0 0 0 4px rgba(59,130,246,.15);
    }

    /* ===== SECTIONS ===== */
    .section{padding:26px 0 0}
    .section-header{margin:18px 0 14px}
    .kicker{
      font-size:11px;text-transform:uppercase;letter-spacing:.16em;
      color:#9CA3AF;margin-bottom:6px;
    }
    body.dark .kicker{color:#6B7280}
    h2{margin:0 0 10px;font-size:22px;letter-spacing:-.02em}
    .underline{
      width:64px;height:3px;border-radius:999px;
      background:linear-gradient(90deg,#3B82F6,#22C55E);
      opacity:.85;
    }

    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:16px}

    .card{
      background:var(--card);
      border-radius:16px;
      padding:16px 16px 14px;
      border:1px solid var(--border);
      box-shadow:0 10px 30px rgba(15,23,42,.06);
      transition:transform .12s ease, box-shadow .25s ease, border-color .25s ease, background .25s ease;
      min-height:138px;
    }
    .card:hover{
      transform:translateY(-2px);
      box-shadow:0 16px 40px rgba(15,23,42,.12);
      border-color:rgba(148,163,184,.85);
    }
    body.dark .card{
      background:rgba(2,6,23,.70);
      border-color:var(--border-dark);
      box-shadow:0 10px 40px rgba(0,0,0,.60);
    }
    body.dark .card:hover{
      box-shadow:0 20px 60px rgba(0,0,0,.90);
      border-color:#334155;
    }

    .card-top{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;margin-bottom:8px}
    .app{display:flex;align-items:center;gap:10px;min-width:0}
    .icon{
      width:38px;height:38px;border-radius:999px;
      display:flex;align-items:center;justify-content:center;
      background:rgba(227,236,255,.90);
      font-size:18px;flex:0 0 auto;
    }
    body.dark .icon{background:rgba(15,23,42,.85)}
    .app-name{font-weight:900;letter-spacing:-.01em;line-height:1.1;margin:0;font-size:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:260px}
    .app-desc{margin:2px 0 0;font-size:12px;color:#6B7280}
    body.dark .app-desc{color:#9CA3AF}
    .badge{
      display:inline-flex;align-items:center;gap:6px;
      padding:4px 10px;border-radius:999px;
      font-size:11px;font-weight:900;
      border:1px solid rgba(148,163,184,.45);
      background:rgba(255,255,255,.85);
      text-transform:uppercase;letter-spacing:.08em;
    }
    body.dark .badge{background:rgba(2,6,23,.70);border-color:rgba(148,163,184,.18)}
    .actions{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
    .btn-small{padding:8px 12px;font-size:12px;border-radius:999px}
    .btn-open{
      background:linear-gradient(180deg, #2B74D6, #215EAB);
      color:#fff;border:0;
      box-shadow:0 8px 18px rgba(33,94,171,.20);
    }
    .btn-open:hover{background:linear-gradient(180deg, #3D8BFF, #2B74D6); transform:translateY(-1px); text-decoration:none}
    .btn-copy{
      background:transparent;
      border:1px solid rgba(148,163,184,.55);
      color:inherit;
    }
    body.dark .btn-copy{border-color:rgba(148,163,184,.18)}
    .btn-copy:hover{background:rgba(227,236,255,.65);text-decoration:none}
    body.dark .btn-copy:hover{background:rgba(59,130,246,.12)}

    .hint{margin-top:10px;font-size:12px;color:#6B7280}
    body.dark .hint{color:#9CA3AF}
    .kid-hidden{display:none !important}

    .toast{
      position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
      background:rgba(15,23,42,.92);
      color:#E5E7EB;
      border:1px solid rgba(51,65,85,.9);
      padding:10px 12px;
      border-radius:12px;
      font-size:13px;
      box-shadow:0 18px 55px rgba(0,0,0,.35);
      opacity:0; pointer-events:none;
      transition:opacity .18s ease, transform .18s ease;
      z-index:9999; max-width:92vw;
    }
    .toast.show{opacity:1; transform:translateX(-50%) translateY(-4px)}

    footer{
      border-top:1px solid rgba(148,163,184,.22);
      padding:14px 0 18px;
      font-size:12px;
      color:#6B7280;
      margin-top:18px;
    }
    body.dark footer{color:#9CA3AF; background:#020617}
    .footer-row{display:flex;justify-content:space-between;flex-wrap:wrap;gap:12px}

    @media (max-width:980px){
      .hero-row{grid-template-columns:minmax(0,1fr)}
      .grid{grid-template-columns:repeat(2,minmax(0,1fr))}
      .nav-links{display:none} /* keep it clean on mobile */
    }
    @media (max-width:640px){
      h1{font-size:28px}
      .grid{grid-template-columns:minmax(0,1fr)}
      .brand{min-width:0}
      .app-name{max-width:220px}
    }
  </style>
</head>

<body>
<header>
  <div class="container">
    <div class="nav">
      <!-- Left: brand -->
      <a class="brand" href="https://boltproof.com" title="Back to boltproof.com">
        <!-- swap this path if you have a specific icon on links.boltproof.com -->
        <img src="assets/BoltProof%20Original%20Logo.png" alt="BoltProof" onerror="this.style.display='none'">
        <div>
          <div class="title">BoltProof</div>
          <div class="subtitle">Backup ¬∑ Synology ¬∑ Small-Environment IT</div>
        </div>
      </a>

      <!-- Middle: same-style menu links (yours go to sections on THIS page) -->
      <nav class="nav-links" aria-label="Page">
        <a href="#section-family">Request & Watch</a>
        <a href="#section-admin">Automation & Downloads</a>
        <a href="#section-useful">Useful Links</a>
      </nav>

      <!-- Right: actions -->
      <div class="nav-actions">
        <!-- Put your real booking link here -->
        <a class="btn btn-primary" href="https://boltproof.com/#contact" target="_blank" rel="noopener">Book a consultation</a>

        <button type="button" class="btn pill-btn" id="kidToggle" aria-pressed="false" title="Hide admin tools for family">
          <span>Kid Mode</span>
          <span class="switch" aria-hidden="true"></span>
        </button>

        <button type="button" class="btn pill-btn" id="themeToggle" title="Toggle theme">
          <span id="themeIcon">üåô</span>
          <span id="themeLabel">Dark</span>
        </button>
      </div>
    </div>
  </div>
</header>

<main>
  <section class="hero">
    <div class="container">
      <div class="hero-shell">
        <div class="hero-row">
          <div>
            <h1>Media Portal</h1>
            <p class="muted" style="margin:0;">
              Request in <strong>Jellyseerr</strong> ‚Üí it downloads automatically ‚Üí watch on <strong>Plex</strong>.
            </p>

            <div class="pill-row" aria-label="Status">
              <div class="pill" title="These services require Tailscale / VPN access">
                <span class="dot ok" id="vpnDot"></span>
                <span id="vpnText">Tailscale required</span>
              </div>
              <div class="pill" title="Quick tip for family">
                <span>üéØ</span><span>Start with Jellyseerr</span>
              </div>
              <div class="pill" title="Search & copy links">
                <span>‚ö°</span><span>Search + Copy</span>
              </div>
            </div>

            <div class="search">
              <input id="search" type="text" placeholder="Search apps‚Ä¶ (e.g. jelly, plex, subtitles, qbittorrent, musicbrainz)" autocomplete="off" />
            </div>

            <div class="hint" id="resultsHint">Tip: type ‚Äújelly‚Äù to find the request app fast.</div>
          </div>

          <div class="callout">
            <div style="font-size:18px; line-height:1;">üõ°Ô∏è</div>
            <div>
              <div style="font-weight:900; margin-bottom:2px;">Access note</div>
              <div class="muted" style="font-size:13px;">
                These links are <strong>Tailscale-only</strong>. If something doesn‚Äôt open, connect to Tailscale first.
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- REQUEST + WATCH -->
      <div class="section" id="section-family">
        <div class="section-header">
          <div class="kicker">Recommended</div>
          <h2>Request & Watch</h2>
          <div class="underline"></div>
        </div>

        <div class="grid">
          <div class="card app-card" data-name="jellyseerr request requests movies tv" data-url="">
            <div class="card-top">
              <div class="app">
                <div class="icon">üçø</div>
                <div style="min-width:0;">
                  <div class="app-name">Jellyseerr</div>
                  <div class="app-desc">Request movies & TV</div>
                </div>
              </div>
              <div class="badge"><span class="dot ok"></span> Start here</div>
            </div>
            <div class="muted" style="font-size:13px;">Search ‚Üí request ‚Üí it appears in Plex when ready.</div>
            <div class="actions">
              <a class="btn btn-small btn-open" id="jellyOpen" href="#" target="_blank" rel="noopener">Open</a>
              <button class="btn btn-small btn-copy" id="jellyCopy" data-copy="">Copy link</button>
            </div>
          </div>

          <div class="card app-card" data-name="plex dubai watch streaming library" data-url="">
            <div class="card-top">
              <div class="app">
                <div class="icon">üì∫</div>
                <div style="min-width:0;">
                  <div class="app-name">Plex (Dubai NAS)</div>
                  <div class="app-desc">Watch from Dubai server</div>
                </div>
              </div>
              <div class="badge"><span class="dot ok"></span> Dubai</div>
            </div>
            <div class="muted" style="font-size:13px;">Main library hosted on the Dubai NAS.</div>
            <div class="actions">
              <a class="btn btn-small btn-open" id="plexDubaiOpen" href="#" target="_blank" rel="noopener">Open</a>
              <button class="btn btn-small btn-copy" id="plexDubaiCopy" data-copy="">Copy link</button>
            </div>
          </div>

          <div class="card app-card" data-name="plex ireland watch streaming library" data-url="">
            <div class="card-top">
              <div class="app">
                <div class="icon">üáÆüá™</div>
                <div style="min-width:0;">
                  <div class="app-name">Plex (Ireland NAS)</div>
                  <div class="app-desc">Watch from Ireland server</div>
                </div>
              </div>
              <div class="badge"><span class="dot"></span> Ireland</div>
            </div>
            <div class="muted" style="font-size:13px;">Fallback/local server in Ireland.</div>
            <div class="actions">
              <a class="btn btn-small btn-open" id="plexIrelandOpen" href="#" target="_blank" rel="noopener">Open</a>
              <button class="btn btn-small btn-copy" id="plexIrelandCopy" data-copy="">Copy link</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ADMIN -->
      <div class="section" id="section-admin">
        <div class="section-header">
          <div class="kicker">Admin</div>
          <h2>Automation & Downloads</h2>
          <div class="underline"></div>
        </div>

        <div class="grid">
          <div class="card app-card admin-card" data-name="radarr movies automation" data-url="http://100.91.121.17:7878">
            <div class="card-top">
              <div class="app"><div class="icon">üé¨</div><div style="min-width:0;"><div class="app-name">Radarr</div><div class="app-desc">Movies automation</div></div></div>
              <div class="badge"><span class="dot"></span> Arr</div>
            </div>
            <div class="muted" style="font-size:13px;">Quality profiles, monitoring, grabbing movies.</div>
            <div class="actions">
              <a class="btn btn-small btn-open" href="http://100.91.121.17:7878" target="_blank" rel="noopener">Open</a>
              <button class="btn btn-small btn-copy" data-copy="http://100.91.121.17:7878">Copy link</button>
            </div>
          </div>

          <div class="card app-card admin-card" data-name="sonarr tv series automation" data-url="http://100.91.121.17:8989">
            <div class="card-top">
              <div class="app"><div class="icon">üì∫</div><div style="min-width:0;"><div class="app-name">Sonarr</div><div class="app-desc">TV automation</div></div></div>
              <div class="badge"><span class="dot"></span> Arr</div>
            </div>
            <div class="muted" style="font-size:13px;">Track seasons, upgrade quality, manage episodes.</div>
            <div class="actions">
              <a class="btn btn-small btn-open" href="http://100.91.121.17:8989" target="_blank" rel="noopener">Open</a>
              <button class="btn btn-small btn-copy" data-copy="http://100.91.121.17:8989">Copy link</button>
            </div>
          </div>

          <div class="card app-card admin-card" data-name="prowlarr indexers search" data-url="http://100.91.121.17:9696">
            <div class="card-top">
              <div class="app"><div class="icon">üîé</div><div style="min-width:0;"><div class="app-name">Prowlarr</div><div class="app-desc">Indexers manager</div></div></div>
              <div class="badge"><span class="dot"></span> Arr</div>
            </div>
            <div class="muted" style="font-size:13px;">Central place to manage indexers for all Arr apps.</div>
            <div class="actions">
              <a class="btn btn-small btn-open" href="http://100.91.121.17:9696" target="_blank" rel="noopener">Open</a>
              <button class="btn btn-small btn-copy" data-copy="http://100.91.121.17:9696">Copy link</button>
            </div>
          </div>

          <div class="card app-card admin-card" data-name="lidarr music automation" data-url="">
            <div class="card-top">
              <div class="app"><div class="icon">üéß</div><div style="min-width:0;"><div class="app-name">Lidarr</div><div class="app-desc">Music automation</div></div></div>
              <div class="badge"><span class="dot"></span> Arr</div>
            </div>
            <div class="muted" style="font-size:13px;">Track artists & grab albums automatically.</div>
            <div class="actions">
              <a class="btn btn-small btn-open" id="lidarrOpen" href="#" target="_blank" rel="noopener">Open</a>
              <button class="btn btn-small btn-copy" id="lidarrCopy" data-copy="">Copy link</button>
            </div>
          </div>

          <div class="card app-card admin-card" data-name="bazarr subtitles series" data-url="">
            <div class="card-top">
              <div class="app"><div class="icon">üí¨</div><div style="min-width:0;"><div class="app-name">Bazarr</div><div class="app-desc">Subtitles automation</div></div></div>
              <div class="badge"><span class="dot"></span> Utility</div>
            </div>
            <div class="muted" style="font-size:13px;">Auto-fetch subtitles for your series.</div>
            <div class="actions">
              <a class="btn btn-small btn-open" id="bazarrOpen" href="#" target="_blank" rel="noopener">Open</a>
              <button class="btn btn-small btn-copy" id="bazarrCopy" data-copy="">Copy link</button>
            </div>
          </div>

          <div class="card app-card admin-card" data-name="qbittorrent qbit torrent torrents download client" data-url="">
            <div class="card-top">
              <div class="app"><div class="icon">üß≤</div><div style="min-width:0;"><div class="app-name">qBittorrent</div><div class="app-desc">Torrent client (WebUI)</div></div></div>
              <div class="badge"><span class="dot"></span> Client</div>
            </div>
            <div class="muted" style="font-size:13px;">Manage torrent queue, status, speed, and seeding.</div>
            <div class="actions">
              <a class="btn btn-small btn-open" id="qbitOpen" href="#" target="_blank" rel="noopener">Open</a>
              <button class="btn btn-small btn-copy" id="qbitCopy" data-copy="">Copy link</button>
            </div>
          </div>

          <div class="card app-card admin-card" data-name="sabnzbd usenet downloader" data-url="http://100.91.121.17:8777">
            <div class="card-top">
              <div class="app"><div class="icon">‚¨áÔ∏è</div><div style="min-width:0;"><div class="app-name">SABnzbd</div><div class="app-desc">Usenet download client</div></div></div>
              <div class="badge"><span class="dot"></span> Client</div>
            </div>
            <div class="muted" style="font-size:13px;">Queue, speed, history, categories.</div>
            <div class="actions">
              <a class="btn btn-small btn-open" href="http://100.91.121.17:8777" target="_blank" rel="noopener">Open</a>
              <button class="btn btn-small btn-copy" data-copy="http://100.91.121.17:8777">Copy link</button>
            </div>
          </div>
        </div>

        <div class="hint">Kid Mode hides this section and keeps only Jellyseerr + Plex + Useful Links.</div>
      </div>

      <!-- ‚úÖ MOVED: USEFUL LINKS NOW BELOW Automation & Downloads -->
      <div class="section" id="section-useful">
        <div class="section-header">
          <div class="kicker">Extras</div>
          <h2>Useful Links</h2>
          <div class="underline"></div>
        </div>

        <div class="grid">
          <div class="card app-card" data-name="musicbrainz music brainz metadata artist album" data-url="https://musicbrainz.org/">
            <div class="card-top">
              <div class="app">
                <div class="icon">üéº</div>
                <div style="min-width:0;">
                  <div class="app-name">MusicBrainz</div>
                  <div class="app-desc">Music metadata & artist pages</div>
                </div>
              </div>
              <div class="badge"><span class="dot ok"></span> Public</div>
            </div>
            <div class="muted" style="font-size:13px;">Find correct artists/albums to import into Lidarr.</div>
            <div class="actions">
              <a class="btn btn-small btn-open" href="https://musicbrainz.org/" target="_blank" rel="noopener">Open</a>
              <button class="btn btn-small btn-copy" data-copy="https://musicbrainz.org/">Copy link</button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>
</main>

<footer>
  <div class="container">
    <div class="footer-row">
      <div>¬© <span id="year"></span> BoltProof. All rights reserved.</div>
      <div class="muted">Tailscale-only portal ‚Ä¢ clean and simple</div>
    </div>
  </div>
</footer>

<div class="toast" id="toast">Copied</div>

<script>
  // ==============================
  // URLS
  // ==============================
  const DUBAI_HOST = "http://100.91.121.17";
  const IRELAND_PLEX = "http://100.64.152.38:32400/web/index.html#!/";

  const URLS = {
    jellyseerr: `${DUBAI_HOST}:5055/`,
    plexDubai:  `${DUBAI_HOST}:32400/web/index.html`,
    plexIreland: IRELAND_PLEX,

    lidarr: `${DUBAI_HOST}:8686/`,
    bazarr: `${DUBAI_HOST}:6767/series`,
    qbittorrent: `${DUBAI_HOST}:8081`
  };

  document.getElementById('year').textContent = new Date().getFullYear();

  // Theme toggle
  (function(){
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const stored = localStorage.getItem('boltproof-theme');
    const body = document.body;

    if (stored === 'dark' || (!stored && prefersDark)) body.classList.add('dark');

    const btn = document.getElementById('themeToggle');
    const icon = document.getElementById('themeIcon');
    const label = document.getElementById('themeLabel');

    function sync(){
      const isDark = body.classList.contains('dark');
      icon.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
      label.textContent = isDark ? 'Light' : 'Dark';
    }
    sync();

    btn.addEventListener('click', () => {
      body.classList.toggle('dark');
      localStorage.setItem('boltproof-theme', body.classList.contains('dark') ? 'dark' : 'light');
      sync();
    });
  })();

  // Kid Mode toggle (persisted)
  (function(){
    const body = document.body;
    const kidBtn = document.getElementById('kidToggle');

    function apply(on){
      body.classList.toggle('kid-on', on);
      kidBtn.setAttribute('aria-pressed', on ? 'true' : 'false');

      const adminSection = document.getElementById('section-admin');
      if (adminSection) adminSection.classList.toggle('kid-hidden', on);

      localStorage.setItem('boltproof-kidmode', on ? 'on' : 'off');
    }

    const stored = localStorage.getItem('boltproof-kidmode');
    apply(stored === 'on');

    kidBtn.addEventListener('click', () => apply(!body.classList.contains('kid-on')));
  })();

  // Wire up dynamic links
  function setLink(openId, copyId, url){
    const openEl = document.getElementById(openId);
    const copyEl = document.getElementById(copyId);
    if (openEl) openEl.href = url;
    if (copyEl) copyEl.setAttribute("data-copy", url);
  }

  setLink("jellyOpen","jellyCopy", URLS.jellyseerr);
  setLink("plexDubaiOpen","plexDubaiCopy", URLS.plexDubai);
  setLink("plexIrelandOpen","plexIrelandCopy", URLS.plexIreland);
  setLink("lidarrOpen","lidarrCopy", URLS.lidarr);
  setLink("bazarrOpen","bazarrCopy", URLS.bazarr);
  setLink("qbitOpen","qbitCopy", URLS.qbittorrent);

  // Copy buttons + toast
  const toast = document.getElementById('toast');
  let toastTimer = null;

  function showToast(msg){
    toast.textContent = msg;
    toast.classList.add('show');
    clearTimeout(toastTimer);
    toastTimer = setTimeout(() => toast.classList.remove('show'), 1400);
  }

  async function copyText(text){
    try{
      await navigator.clipboard.writeText(text);
      showToast("Copied link ‚úÖ");
    }catch(e){
      const ta = document.createElement('textarea');
      ta.value = text;
      document.body.appendChild(ta);
      ta.select();
      document.execCommand('copy');
      ta.remove();
      showToast("Copied link ‚úÖ");
    }
  }

  document.querySelectorAll('[data-copy]').forEach(btn=>{
    btn.addEventListener('click', ()=>copyText(btn.getAttribute('data-copy')));
  });

  // Search filter
  const search = document.getElementById('search');
  const cards = Array.from(document.querySelectorAll('.app-card'));
  const hint = document.getElementById('resultsHint');

  function applyFilter(q){
    const query = (q || "").trim().toLowerCase();
    let shown = 0;

    cards.forEach(card=>{
      const hay = (card.getAttribute('data-name') || "").toLowerCase();
      const visible = !query || hay.includes(query);
      if (visible) shown++;
      card.style.display = visible ? "" : "none";
    });

    if (!query) hint.textContent = "Tip: type ‚Äújelly‚Äù to find the request app fast.";
    else hint.textContent = shown ? `${shown} match${shown===1?"":"es"} for ‚Äú${q}‚Äù.` : `No matches for ‚Äú${q}‚Äù.`;
  }

  search.addEventListener('input', (e)=>applyFilter(e.target.value));
</script>

</body>
</html>
